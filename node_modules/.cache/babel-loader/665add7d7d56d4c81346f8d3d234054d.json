{"remainingRequest":"C:\\Users\\Андрей\\Desktop\\Vue 3 2021 Владилен Минин\\014_2\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Андрей\\Desktop\\Vue 3 2021 Владилен Минин\\014_2\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Андрей\\Desktop\\Vue 3 2021 Владилен Минин\\014_2\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\Андрей\\Desktop\\Vue 3 2021 Владилен Минин\\014_2\\src\\views\\Request.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\Андрей\\Desktop\\Vue 3 2021 Владилен Минин\\014_2\\src\\views\\Request.vue","mtime":1650308228591},{"path":"C:\\Users\\Андрей\\Desktop\\Vue 3 2021 Владилен Минин\\014_2\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1652726598100},{"path":"C:\\Users\\Андрей\\Desktop\\Vue 3 2021 Владилен Минин\\014_2\\node_modules\\babel-loader\\lib\\index.js","mtime":1652726599643},{"path":"C:\\Users\\Андрей\\Desktop\\Vue 3 2021 Владилен Минин\\014_2\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1652726598100},{"path":"C:\\Users\\Андрей\\Desktop\\Vue 3 2021 Владилен Минин\\014_2\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1652726599536}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiQzovVXNlcnMvXHUwNDEwXHUwNDNEXHUwNDM0XHUwNDQwXHUwNDM1XHUwNDM5L0Rlc2t0b3AvVnVlIDMgMjAyMSBcdTA0MTJcdTA0M0JcdTA0MzBcdTA0MzRcdTA0MzhcdTA0M0JcdTA0MzVcdTA0M0QgXHUwNDFDXHUwNDM4XHUwNDNEXHUwNDM4XHUwNDNELzAxNF8yL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQzovVXNlcnMvXHUwNDEwXHUwNDNEXHUwNDM0XHUwNDQwXHUwNDM1XHUwNDM5L0Rlc2t0b3AvVnVlIDMgMjAyMSBcdTA0MTJcdTA0M0JcdTA0MzBcdTA0MzRcdTA0MzhcdTA0M0JcdTA0MzVcdTA0M0QgXHUwNDFDXHUwNDM4XHUwNDNEXHUwNDM4XHUwNDNELzAxNF8yL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IHsgcmVmLCBvbk1vdW50ZWQsIGNvbXB1dGVkIH0gZnJvbSAndnVlJzsKaW1wb3J0IHsgdXNlU3RvcmUgfSBmcm9tICd2dWV4JzsKaW1wb3J0IHsgdXNlUm91dGUsIHVzZVJvdXRlciB9IGZyb20gJ3Z1ZS1yb3V0ZXInOwppbXBvcnQgQXBwUGFnZSBmcm9tICcuLi9jb21wb25lbnRzL3VpL0FwcFBhZ2UnOwppbXBvcnQgQXBwTG9hZGVyIGZyb20gJy4uL2NvbXBvbmVudHMvdWkvQXBwTG9hZGVyJzsKaW1wb3J0IEFwcFN0YXR1cyBmcm9tICcuLi9jb21wb25lbnRzL3VpL0FwcFN0YXR1cyc7CmltcG9ydCB7IGN1cnJlbmN5IH0gZnJvbSAnLi4vdXRpbHMvY3VycmVuY3knOwpleHBvcnQgZGVmYXVsdCB7CiAgc2V0dXA6IGZ1bmN0aW9uIHNldHVwKCkgewogICAgdmFyIHJvdXRlID0gdXNlUm91dGUoKTsKICAgIHZhciByb3V0ZXIgPSB1c2VSb3V0ZXIoKTsKICAgIHZhciBzdG9yZSA9IHVzZVN0b3JlKCk7CiAgICB2YXIgc3RhdHVzID0gcmVmKCk7CiAgICB2YXIgbG9hZGluZyA9IHJlZih0cnVlKTsKICAgIHZhciByZXF1ZXN0ID0gcmVmKHt9KTsKICAgIG9uTW91bnRlZCggLyojX19QVVJFX18qL19hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgdmFyIF9yZXF1ZXN0JHZhbHVlOwoKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGxvYWRpbmcudmFsdWUgPSB0cnVlOwogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgIHJldHVybiBzdG9yZS5kaXNwYXRjaCgncmVxdWVzdC9sb2FkT25lJywgcm91dGUucGFyYW1zLmlkKTsKCiAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICByZXF1ZXN0LnZhbHVlID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICBzdGF0dXMudmFsdWUgPSAoX3JlcXVlc3QkdmFsdWUgPSByZXF1ZXN0LnZhbHVlKSA9PT0gbnVsbCB8fCBfcmVxdWVzdCR2YWx1ZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3JlcXVlc3QkdmFsdWUuc3RhdHVzOwogICAgICAgICAgICAgIGxvYWRpbmcudmFsdWUgPSBmYWxzZTsKCiAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSk7CiAgICB9KSkpOwogICAgdmFyIGhhc0NoYW5nZXMgPSBjb21wdXRlZChmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiByZXF1ZXN0LnZhbHVlLnN0YXR1cyAhPT0gc3RhdHVzLnZhbHVlOwogICAgfSk7CgogICAgdmFyIHJlbW92ZSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfcmVmMiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBzdG9yZS5kaXNwYXRjaCgncmVxdWVzdC9yZW1vdmUnLCByb3V0ZS5wYXJhbXMuaWQpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICByb3V0ZXIucHVzaCgnLycpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICB9KSk7CgogICAgICByZXR1cm4gZnVuY3Rpb24gcmVtb3ZlKCkgewogICAgICAgIHJldHVybiBfcmVmMi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9OwogICAgfSgpOwoKICAgIHZhciB1cGRhdGUgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICB2YXIgX3JlZjMgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgICAgIHZhciBkYXRhOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBkYXRhID0gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCByZXF1ZXN0LnZhbHVlKSwge30sIHsKICAgICAgICAgICAgICAgICAgc3RhdHVzOiBzdGF0dXMudmFsdWUsCiAgICAgICAgICAgICAgICAgIGlkOiByb3V0ZS5wYXJhbXMuaWQKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIHN0b3JlLmRpc3BhdGNoKCdyZXF1ZXN0L3VwZGF0ZScsIGRhdGEpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICByZXF1ZXN0LnZhbHVlLnN0YXR1cyA9IHN0YXR1cy52YWx1ZTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzKTsKICAgICAgfSkpOwoKICAgICAgcmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZSgpIHsKICAgICAgICByZXR1cm4gX3JlZjMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfTsKICAgIH0oKTsKCiAgICByZXR1cm4gewogICAgICBsb2FkaW5nOiBsb2FkaW5nLAogICAgICByZXF1ZXN0OiByZXF1ZXN0LAogICAgICBjdXJyZW5jeTogY3VycmVuY3ksCiAgICAgIHJlbW92ZTogcmVtb3ZlLAogICAgICB1cGRhdGU6IHVwZGF0ZSwKICAgICAgc3RhdHVzOiBzdGF0dXMsCiAgICAgIGhhc0NoYW5nZXM6IGhhc0NoYW5nZXMKICAgIH07CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBBcHBQYWdlOiBBcHBQYWdlLAogICAgQXBwTG9hZGVyOiBBcHBMb2FkZXIsCiAgICBBcHBTdGF0dXM6IEFwcFN0YXR1cwogIH0KfTs="},{"version":3,"sources":["C:\\Users\\Андрей\\Desktop\\Vue 3 2021 Владилен Минин\\014_2\\src\\views\\Request.vue"],"names":[],"mappings":";;;AA2BA,SAAQ,GAAR,EAAa,SAAb,EAAwB,QAAxB,QAAuC,KAAvC;AACA,SAAQ,QAAR,QAAuB,MAAvB;AACA,SAAQ,QAAR,EAAkB,SAAlB,QAAkC,YAAlC;AACA,OAAO,OAAP,MAAoB,0BAApB;AACA,OAAO,SAAP,MAAsB,4BAAtB;AACA,OAAO,SAAP,MAAsB,4BAAtB;AACA,SAAQ,QAAR,QAAuB,mBAAvB;AAEA,eAAe;AACb,EAAA,KADa,mBACL;AACN,QAAM,KAAI,GAAI,QAAQ,EAAtB;AACA,QAAM,MAAK,GAAI,SAAS,EAAxB;AACA,QAAM,KAAI,GAAI,QAAQ,EAAtB;AACA,QAAM,MAAK,GAAI,GAAG,EAAlB;AACA,QAAM,OAAM,GAAI,GAAG,CAAC,IAAD,CAAnB;AACA,QAAM,OAAM,GAAI,GAAG,CAAC,EAAD,CAAnB;AAEA,IAAA,SAAS,uEAAC;AAAA;;AAAA;AAAA;AAAA;AAAA;AACR,cAAA,OAAO,CAAC,KAAR,GAAgB,IAAhB;AADQ;AAAA,qBAEc,KAAK,CAAC,QAAN,CAAe,iBAAf,EAAkC,KAAK,CAAC,MAAN,CAAa,EAA/C,CAFd;;AAAA;AAER,cAAA,OAAO,CAAC,KAFA;AAGR,cAAA,MAAM,CAAC,KAAP,qBAAe,OAAO,CAAC,KAAvB,mDAAe,eAAe,MAA9B;AACA,cAAA,OAAO,CAAC,KAAR,GAAgB,KAAhB;;AAJQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAD,GAAT;AAOA,QAAM,UAAS,GAAI,QAAQ,CAAC;AAAA,aAAM,OAAO,CAAC,KAAR,CAAc,MAAd,KAAyB,MAAM,CAAC,KAAtC;AAAA,KAAD,CAA3B;;AAEA,QAAM,MAAK;AAAA,0EAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACP,KAAK,CAAC,QAAN,CAAe,gBAAf,EAAiC,KAAK,CAAC,MAAN,CAAa,EAA9C,CADO;;AAAA;AAEb,gBAAA,MAAM,CAAC,IAAP,CAAY,GAAZ;;AAFa;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAJ;;AAAA,sBAAL,MAAK;AAAA;AAAA;AAAA,OAAX;;AAKA,QAAM,MAAK;AAAA,0EAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AACP,gBAAA,IADO,mCACI,OAAO,CAAC,KADZ;AACmB,kBAAA,MAAM,EAAE,MAAM,CAAC,KADlC;AACyC,kBAAA,EAAE,EAAE,KAAK,CAAC,MAAN,CAAa;AAD1D;AAAA;AAAA,uBAEP,KAAK,CAAC,QAAN,CAAe,gBAAf,EAAiC,IAAjC,CAFO;;AAAA;AAGb,gBAAA,OAAO,CAAC,KAAR,CAAc,MAAd,GAAuB,MAAM,CAAC,KAA9B;;AAHa;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAJ;;AAAA,sBAAL,MAAK;AAAA;AAAA;AAAA,OAAX;;AAMA,WAAO;AAAC,MAAA,OAAO,EAAP,OAAD;AAAU,MAAA,OAAO,EAAP,OAAV;AAAmB,MAAA,QAAQ,EAAR,QAAnB;AAA6B,MAAA,MAAM,EAAN,MAA7B;AAAqC,MAAA,MAAM,EAAN,MAArC;AAA6C,MAAA,MAAM,EAAN,MAA7C;AAAqD,MAAA,UAAU,EAAV;AAArD,KAAP;AACD,GA9BY;AA+Bb,EAAA,UAAU,EAAE;AAAC,IAAA,OAAO,EAAP,OAAD;AAAU,IAAA,SAAS,EAAT,SAAV;AAAqB,IAAA,SAAS,EAAT;AAArB;AA/BC,CAAf","sourcesContent":["<template>\n  <app-loader v-if=\"loading\"></app-loader>\n  <app-page back title=\"Заявка\" v-else-if=\"request\">\n    <p><strong>Имя владельца</strong>: {{request.fio}}</p>\n    <p><strong>Телефон</strong>: {{request.phone}}</p>\n    <p><strong>Сумма</strong>: {{currency(request.amount)}}</p>\n    <p><strong>Статус</strong>: <app-status :type=\"request.status\" /></p>\n\n    <div class=\"form-control\">\n      <label for=\"status\">Статус</label>\n      <select id=\"status\" v-model=\"status\">\n        <option value=\"done\">Завершен</option>\n        <option value=\"cancelled\">Отменен</option>\n        <option value=\"active\">Активен</option>\n        <option value=\"pending\">Выполняется</option>\n      </select>\n    </div>\n\n    <button class=\"btn danger\" @click=\"remove\">Удалить</button>\n    <button class=\"btn\" @click=\"update\" v-if=\"hasChanges\">Обновить</button>\n  </app-page>\n  <h3 v-else class=\"text-center text-white\">\n    Заявки с ID = {{$route.params.id}} нет.\n  </h3>\n</template>\n\n<script>\nimport {ref, onMounted, computed} from 'vue'\nimport {useStore} from 'vuex'\nimport {useRoute, useRouter} from 'vue-router'\nimport AppPage from '../components/ui/AppPage'\nimport AppLoader from '../components/ui/AppLoader'\nimport AppStatus from '../components/ui/AppStatus'\nimport {currency} from '../utils/currency'\n\nexport default {\n  setup() {\n    const route = useRoute()\n    const router = useRouter()\n    const store = useStore()\n    const status = ref()\n    const loading = ref(true)\n    const request = ref({})\n\n    onMounted(async () => {\n      loading.value = true\n      request.value = await store.dispatch('request/loadOne', route.params.id)\n      status.value = request.value?.status\n      loading.value = false\n    })\n\n    const hasChanges = computed(() => request.value.status !== status.value)\n\n    const remove = async () => {\n      await store.dispatch('request/remove', route.params.id)\n      router.push('/')\n    }\n\n    const update = async () => {\n      const data = {...request.value, status: status.value, id: route.params.id}\n      await store.dispatch('request/update', data)\n      request.value.status = status.value\n    }\n\n    return {loading, request, currency, remove, update, status, hasChanges}\n  },\n  components: {AppPage, AppLoader, AppStatus}\n}\n</script>\n\n<style scoped>\n\n</style>"],"sourceRoot":""}]}